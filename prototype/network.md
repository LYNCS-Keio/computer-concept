# network

## Introduction

コンピュータをインターネットに繋げて使うのが当たり前になってからどれほど経つでしょうか．
日々の情報収集，メールやメッセージアプリ，SNS，通販，動画や音楽の視聴に至るまで，インターネットに繋がっているパソコンやスマートフォンを利用した多様なサービスが私たちの身の回りに溢れています．

ここでは，家にあるパソコンやスマートフォンがどのようにインターネットに繋がっているかを見ていきましょう．

## 家のパソコンがインターネットに繋がるまで

家のパソコンをインターネットに繋げるとき，NTTやKDDIなどの事業者と契約していると思います．
NTTやKDDIなどの業者を **ISP（Internet Service Provider）** と言います．
パソコンをインターネットに繋げようとするとき，私たちは当然のようにISPと契約しますが，ISPは何をしてくれているのでしょうか．
ISPが何をしているのかを理解するために，少しちょっと変な話を考えてみようと思います．

### パソコンをgoogle.comへ繋げる

パソコンで google.com へアクセスしようとするとき，アクセス先はGoogleが所有するサーバになるということはなんとなく想像がつくと思います．
また，Googleが所有するサーバへアクセスするためには，パソコンがGoogleが所有するサーバとどうにかして通信できないといけないということも想像がつくと思います．

// 本当か？googleとかにサーバがあって，それとパソコンが通信しているんだというのは本当に認識できていると言えるのだろうか？

では，パソコンがGoogleのサーバと通信するためにはどうすればよいでしょうか．
答えの一つとして，Googleと契約をしてパソコンがGoogleのサーバに接続できるようにするというものが考えられます（現実的な答えではありませんが）．
様々な困難を乗り越えGoogleと契約を交わし，持っているパソコンがGoogleのサーバと通信できるようになったとしましょう．
このとき，パソコンはGoogleのサーバと通信できるので，Google DriveやGoogle Documentなどの，Google（のサーバ）が提供しているサービスを利用することができます．

### 今度はパソコンをfacebook.comへも繋げる

今度はパソコンで facebook.com へアクセスしようとすることを考えてみます．
このとき， facebook.com へアクセスしようとしたときのアクセス先はFacebookが所有するサーバになることも，Googleのときと同様に想像がつくと思います．
また，FacebookとGoogleは別の会社であるということも想像がつくと思います．
そのため，Googleとは別に，Facebookとも契約をしなければなりません．

なんとかFacebookと契約をしたとしましょう．
これでFacebookで友人の近況を知ったり，自分の近況を知らせたりすることができるようになりました．

次はAmazonでお買い物をしようと思いました．
そのために，GoogleやFacebookと同様，Amazonとも契約をします．
その次は，Twitter，Apple，Spotify,……

さすがに無理ですよね．
以上のように，この世にインターネットを利用したサービスを提供する企業・団体・個人は一体どれだけあるのでしょうか．
これら全てとそれぞれ契約をするのはお互いに消耗しきってしまいます．

### ISPの役割＝通信の仲介役

// 眠くなってきたのでここらへん雑に書いてます あとでなおします

実際にはこの話のようにそれぞれのサービス提供者と直接契約することはなく，ISPと契約することで私たちは各サービス提供者の所有するサーバへとアクセスすることができています．

ISPはそれぞれのサービス提供者との通信を仲介していると考えることができます．

逆にISPと接続していない社内ネットワークなどは，家やスマートフォンなどの外部ネットワークから接続できません．
